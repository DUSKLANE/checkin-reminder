# ⏰ 定时任务签到提醒系统

一个基于Python Flask的智能签到提醒系统，支持定时任务管理、自动邮件提醒和签到记录追踪。

## ✨ 功能特性

- 🎯 **任务管理**: 创建、编辑、删除和启用/停用定时任务
- ⏰ **智能提醒**: 在指定时间自动检查签到状态并发送邮件提醒
- ✅ **签到功能**: 一键签到，防止重复签到
- 📊 **数据统计**: 实时显示任务总数、活跃任务、今日签到等统计信息
- 📧 **邮件通知**: 支持SMTP邮件服务，及时提醒未完成的任务
- 🎨 **美观界面**: 现代化响应式设计，支持移动端访问
- 🔄 **实时更新**: 自动刷新数据，保持信息同步

## 🚀 快速开始

### 环境要求

- Python 3.7+
- 支持SMTP的邮箱账户（推荐QQ邮箱、Gmail等）

### 安装步骤

1. **克隆或下载项目**
   ```bash
   # 如果使用git
   git clone <repository-url>
   cd 签到提醒
   ```

2. **安装Python依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **配置邮件服务**
   
   复制 `env_example.txt` 为 `.env` 文件，并修改邮件配置：
   ```bash
   # Windows
   copy env_example.txt .env
   
   # Linux/Mac
   cp env_example.txt .env
   ```
   
   编辑 `.env` 文件，填入您的邮箱信息：
   ```env
   SMTP_SERVER=smtp.qq.com
   SMTP_PORT=587
   SENDER_EMAIL=your-email@qq.com
   SENDER_PASSWORD=your-app-password
   ```

4. **启动应用**
   ```bash
   python app.py
   ```

5. **访问系统**
   
   打开浏览器访问: http://localhost:5000

## 📧 邮件配置说明

### QQ邮箱配置

1. 登录QQ邮箱网页版
2. 进入"设置" → "账户"
3. 开启"POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务"
4. 生成授权码（不是登录密码）
5. 将授权码填入 `.env` 文件的 `SENDER_PASSWORD` 字段

### Gmail配置

1. 开启两步验证
2. 生成应用专用密码
3. 使用应用专用密码作为 `SENDER_PASSWORD`

### 其他邮箱

请参考对应邮箱服务商的SMTP设置说明，常见配置：
- 163邮箱: smtp.163.com:587
- 126邮箱: smtp.126.com:587
- Outlook: smtp-mail.outlook.com:587

## 🎯 使用说明

### 创建任务

1. 在"添加新任务"区域填写任务信息
2. 设置提醒时间（24小时制）
3. 输入接收提醒的邮箱地址
4. 可选添加任务描述
5. 点击"创建任务"按钮

### 管理任务

- **启用/停用**: 点击任务卡片上的状态按钮
- **编辑**: 点击"编辑"按钮，表单会自动填充当前信息
- **删除**: 点击"删除"按钮，确认后永久删除任务
- **签到**: 在提醒时间前点击"签到"按钮完成当日签到

### 系统工作流程

1. 系统每分钟检查一次是否有需要提醒的任务
2. 到达提醒时间时，检查该任务今日是否已签到
3. 如果未签到，自动发送提醒邮件
4. 用户收到邮件后可以登录系统进行签到

## 🔧 技术架构

- **后端**: Python Flask + SQLAlchemy + APScheduler
- **前端**: HTML5 + CSS3 + JavaScript (原生)
- **数据库**: SQLite (轻量级，无需额外安装)
- **定时任务**: APScheduler (支持Cron表达式)
- **邮件服务**: SMTP (支持TLS加密)

## 📁 项目结构

```
签到提醒/
├── app.py              # Flask主应用文件
├── requirements.txt    # Python依赖包列表
├── env_example.txt    # 环境变量配置示例
├── README.md          # 项目说明文档
├── templates/         # HTML模板目录
│   └── index.html    # 主页面模板
└── tasks.db          # SQLite数据库文件（运行后自动生成）
```

## 🚨 注意事项

1. **邮件配置**: 确保 `.env` 文件中的邮箱配置正确，否则邮件提醒功能无法使用
2. **时间设置**: 提醒时间使用24小时制，建议设置为实际需要提醒的时间
3. **签到限制**: 每个任务每天只能签到一次，重复签到会被拒绝
4. **系统运行**: 系统需要持续运行才能发送定时提醒，建议部署到服务器上
5. **数据备份**: 定期备份 `tasks.db` 文件以防数据丢失

## 🔄 部署建议

### 开发环境
- 直接运行 `python app.py`
- 适合测试和开发

### 生产环境
- 使用 Gunicorn 或 uWSGI 作为WSGI服务器
- 配置 Nginx 作为反向代理
- 使用 Supervisor 或 systemd 管理进程
- 配置日志记录和监控

## 🐛 常见问题

**Q: 邮件发送失败怎么办？**
A: 检查邮箱配置是否正确，确认SMTP服务已开启，授权码/密码是否正确

**Q: 系统重启后任务会丢失吗？**
A: 不会，任务数据存储在SQLite数据库中，重启后数据依然存在

**Q: 可以修改提醒频率吗？**
A: 可以，在 `app.py` 中修改 `CronTrigger(minute='*')` 来调整检查频率

**Q: 支持多个用户吗？**
A: 当前版本为单用户系统，如需多用户支持需要进一步开发

## 📝 更新日志

- v1.0.0: 初始版本，支持基本的任务管理和邮件提醒功能

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。

---

**享受您的智能签到提醒体验！** 🎉
